<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>earth_size - NeoFermi Notebook</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <style>

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #1e1e1e;
  color: #d4d4d4;
  line-height: 1.6;
  padding: 20px;
}

.neofermi-notebook {
  max-width: 800px;
  margin: 0 auto;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  color: #ffffff;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  font-weight: 600;
}

h1 { font-size: 2em; border-bottom: 1px solid #3e3e3e; padding-bottom: 0.3em; }
h2 { font-size: 1.5em; }
h3 { font-size: 1.25em; }

p {
  margin: 1em 0;
}

a {
  color: #4ec9b0;
}

ul, ol {
  margin: 1em 0;
  padding-left: 2em;
}

blockquote {
  border-left: 4px solid #4ec9b0;
  padding-left: 1em;
  margin: 1em 0;
  color: #888;
}

/* Code blocks (non-NeoFermi) */
pre {
  background: #252525;
  border-radius: 6px;
  padding: 12px;
  overflow-x: auto;
  margin: 1em 0;
}

code {
  font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
  font-size: 0.9em;
}

p code, li code {
  background: #252525;
  padding: 2px 6px;
  border-radius: 3px;
}

/* NeoFermi cells */
.nf-cell {
  background: #252525;
  border-radius: 8px;
  margin: 1em 0;
  border: 1px solid #3e3e3e;
  overflow: hidden;
}

.nf-code {
  background: #2d2d2d;
  margin: 0;
  padding: 12px;
  border-bottom: 1px solid #3e3e3e;
  border-radius: 0;
}

.nf-code code {
  color: #ce9178;
}

.nf-result {
  padding: 12px;
  background: rgba(206, 145, 120, 0.08);
}

.nf-stats {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.nf-stat {
  font-size: 0.9em;
}

.nf-stat strong {
  color: #4ec9b0;
}

.nf-scalar {
  color: #4ec9b0;
  font-weight: 500;
}

.nf-dim {
  color: #888;
  font-style: italic;
  font-size: 0.9em;
}

.nf-error {
  padding: 12px;
  background: rgba(244, 135, 113, 0.1);
  color: #f48771;
  font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
  font-size: 0.85em;
}

.nf-viz {
  padding: 12px;
  display: flex;
  justify-content: center;
}

.nf-viz canvas {
  border-radius: 4px;
}

/* Tables */
table {
  border-collapse: collapse;
  margin: 1em 0;
  width: 100%;
}

th, td {
  border: 1px solid #3e3e3e;
  padding: 8px 12px;
  text-align: left;
}

th {
  background: #2d2d2d;
  font-weight: 600;
}

/* Horizontal rule */
hr {
  border: none;
  border-top: 1px solid #3e3e3e;
  margin: 2em 0;
}

/* Images */
img {
  max-width: 100%;
  border-radius: 4px;
}

  </style>
</head>
<body>
  <article class="neofermi-notebook">
<h1>Estimating the Earth's Circumference</h1>
<p>A classic Fermi estimation using what we know about time zones and the United States.</p>
<h2>What We Know</h2>
<p>The Earth has 24 time zones (one for each hour). The continental US spans about 4 of these time zones (Eastern, Central, Mountain, Pacific). And we roughly know how wide the US is.</p>
<h2>The Estimation</h2>
<h3>US Width</h3>
<p>The continental US is roughly 2000-3000 miles wide:</p>
<div class="nf-cell">
<pre class="nf-code"><code>mile = 5280 feet
us_width = 2000 to 3000 mile</code></pre>
<div class="nf-result"><div class="nf-stats">
<span class="nf-stat">Mean: <strong>2499</strong> mile <span class="nf-dim">{length}</span></span>
<span class="nf-stat">Median: 2451 mile</span>
<span class="nf-stat">[68% CI]: [1999, 2996] mile</span>
</div></div><div class="nf-viz" data-samples="[1451.8575092914764,1576.4580635276156,1650.4771549232012,1697.4350028939486,1734.2558937905467,1770.9254479029694,1800.449082521117,1824.2028446174431,1847.9239824355295,1872.3932190334265,1895.4603487487923,1917.7263715820254,1936.8935077878505,1956.4783309215736,1974.3930493852918,1991.3334953529052,2006.2550981564975,2024.929314390908,2040.8511047833324,2056.043551330547,2071.952602318033,2086.9146718830175,2101.3811046544374,2115.670827297172,2130.7262831806215,2144.3331847973113,2158.9355713178215,2171.3425232596924,2183.4648428339497,2194.5134488755575,2208.326686494481,2219.9149695563246,2232.468868663008,2245.116893004302,2257.4084792267763,2270.40785467818,2283.1813522721186,2295.6457354028607,2307.022976493454,2318.7429087164337,2331.292516505211,2343.443944539516,2355.6267542490223,2367.3173759119404,2380.120649776281,2392.678049535189,2405.6764769136344,2417.972200887249,2430.8048679930807,2444.510076658578,2456.8707600950956,2469.707435613241,2483.5543122601557,2495.3480869322552,2506.371617143322,2518.169919134085,2532.1210000356646,2543.8483416818613,2557.3193173581203,2571.244690354855,2584.7580418049697,2596.6234726132625,2609.19774041274,2622.331754932051,2635.5413950416205,2650.766889626599,2665.369202940206,2682.846177792392,2697.5498827775546,2712.4357014172024,2729.2016567128094,2743.9938293625496,2762.1245842789504,2779.6532565784764,2796.450595053324,2816.656160185592,2835.659851537216,2852.7878539691014,2872.7421494908585,2893.424652446973,2914.60209562926,2935.1421052623527,2960.557114072321,2982.966598797959,3006.9868712469547,3033.018772370917,3061.351722505625,3094.199515735746,3120.4008815677857,3153.68143836375,3194.6579733864914,3235.1216646650405,3284.272958755775,3329.5691333272034,3389.758956988503,3453.5707276715157,3535.6370708810728,3638.534436708758,3789.368862069374,4118.716927262603]" data-unit="mile" data-min="1137.2324071324003" data-max="5706.308124065907"></div>
</div>
<h3>Time Zone Width</h3>
<p>The US spans about 4 time zones, so each time zone is:</p>
<div class="nf-cell">
<pre class="nf-code"><code>us_timezones = 3 to 5
timezone_width = us_width / us_timezones</code></pre>
<div class="nf-result"><div class="nf-stats">
<span class="nf-stat">Mean: <strong>667</strong> mile <span class="nf-dim">{length}</span></span>
<span class="nf-stat">Median: 631 mile</span>
<span class="nf-stat">[68% CI]: [457, 877] mile</span>
</div></div><div class="nf-viz" data-samples="[274.86348513801056,314.3942564646822,335.2454709468549,352.50021431547015,366.20026211383095,378.07413657313543,388.24794632039294,397.18304099280107,405.3016619914743,413.90258961600784,421.6881632911058,428.40425641523433,435.2508635726719,441.05056278241665,447.41594284527366,453.96620807975034,460.43403243044855,466.1701140198033,471.47124220064467,478.24362481805105,483.6162087402914,489.2629120002069,494.13737445934913,499.5901089434635,504.7772711306346,510.54641178183226,515.9701537723532,521.0524575581187,525.9394686545872,531.274954886255,536.2803189706804,540.8929929751791,546.3152414485496,551.4459153281834,555.8718909325561,560.7009107897636,566.0906307142211,570.5225672788905,575.6414979950398,579.5841768571295,585.0879809310335,589.8031895746539,594.6309622818068,599.549581326223,604.8419767541735,609.8747915914034,614.2698273836737,619.2103697623451,623.9627867807883,628.3857633072591,633.6106742384815,638.3543117736211,643.4986189890107,649.4548074713736,654.2846724652376,660.0056903396483,664.9021827984607,670.4054050048976,676.317024003322,681.4954873645328,687.7850298848531,693.6608155218355,699.7307575717672,706.416868486304,713.1366993061872,719.9361540487314,727.2987198670891,733.8898590073925,740.7831779599371,747.2694726800997,753.7887605338914,761.4756241425861,769.2560855097672,776.7622461418963,784.3451974569891,791.9131321372386,800.5704512148053,808.6673416272241,817.5441075414241,826.226885838217,837.2770970748504,848.2269471571104,859.3124425318497,871.2743778535577,883.3974368601363,896.90341454205,909.5363157367682,923.1909195604677,938.6436320242897,955.3841389793366,973.5517231414528,993.4659667994677,1016.2153481398434,1036.5750260846235,1067.8714057032246,1100.9413984044513,1137.3360865025916,1198.463629902054,1271.822491432264,1451.5829276089355]" data-unit="mile" data-min="165.57678194483807" data-max="2385.2485981920213"></div>
</div>
<h3>Earth's Circumference</h3>
<p>With 24 time zones around the Earth:</p>
<div class="nf-cell">
<pre class="nf-code"><code>num_timezones = 24
earth_circumference = timezone_width * num_timezones</code></pre>
<div class="nf-result"><div class="nf-stats">
<span class="nf-stat">Mean: <strong>16014</strong> mile <span class="nf-dim">{length}</span></span>
<span class="nf-stat">Median: 15141 mile</span>
<span class="nf-stat">[68% CI]: [10967, 21056] mile</span>
</div></div><div class="nf-viz" data-samples="[6596.723643312253,7545.462155152372,8045.891302724517,8460.005143571283,8788.806290731944,9073.77927775525,9317.950711689431,9532.392983827225,9727.239887795384,9933.662150784188,10120.515918986539,10281.702153965623,10446.020725744125,10585.213506778,10737.982628286569,10895.18899391401,11050.416778330766,11188.082736475279,11315.309812815472,11477.846995633225,11606.789009766995,11742.309888004966,11859.29698702438,11990.162614643124,12114.65450713523,12253.113882763973,12383.283690536478,12505.258981394849,12622.547247710094,12750.598917270121,12870.727655296329,12981.4318314043,13111.56579476519,13234.701967876403,13340.925382381345,13456.821858954327,13586.175137141307,13692.541614693371,13815.395951880955,13910.020244571107,14042.111542344803,14155.276549791692,14271.143094763363,14389.189951829352,14516.207442100163,14636.994998193682,14742.47585720817,14861.04887429628,14975.106882738919,15081.25831937422,15206.656181723556,15320.503482566906,15443.966855736257,15586.915379312966,15702.832139165701,15840.136568151558,15957.652387163056,16089.729720117542,16231.608576079729,16355.891696748786,16506.840717236475,16647.859572524052,16793.53818172241,16954.004843671297,17115.28078334849,17278.46769716955,17455.16927681014,17613.35661617742,17778.79627103849,17934.467344322395,18090.930252813392,18275.414979422065,18462.146052234413,18642.29390740551,18824.28473896774,19005.915171293724,19213.690829155326,19408.016199053378,19621.058580994177,19829.44526011721,20094.65032979641,20357.44673177065,20623.498620764392,20910.585068485383,21201.53848464327,21525.6819490092,21828.871577682436,22156.582069451226,22527.447168582952,22929.21933550408,23365.241355394868,23843.183203187225,24389.16835535624,24877.800626030963,25628.913736877388,26422.59356170683,27296.066076062198,28763.127117649296,30523.739794374338,34837.990262614454]" data-unit="mile" data-min="3973.8427666761136" data-max="57245.96635660851"></div>
</div>
<h3>Convert to Kilometers</h3>
<div class="nf-cell">
<pre class="nf-code"><code>earth_circumference_km = earth_circumference / mile * (1.6 km)</code></pre>
<div class="nf-result"><div class="nf-stats">
<span class="nf-stat">Mean: <strong>4.85</strong> (mile km) / feet <span class="nf-dim">{length}</span></span>
<span class="nf-stat">Median: 4.59 (mile km) / feet</span>
<span class="nf-stat">[68% CI]: [3.32, 6.38] (mile km) / feet</span>
</div></div><div class="nf-viz" data-samples="[1.9990071646400769,2.286503683379507,2.43814887961349,2.5636379222943284,2.663274633555135,2.749630084168258,2.8236214277846763,2.8886039344930987,2.9476484508470864,3.0102006517527844,3.0668230057534966,3.1156673193835225,3.165460825983068,3.2076404565993943,3.2539341297838087,3.301572422398185,3.348611144948717,3.390328101962206,3.428881761459234,3.478135453222189,3.5172087908384833,3.5582757236378684,3.5937263597043576,3.6333826104979168,3.6711074264046157,3.71306481295878,3.752510209253478,3.7894724186045,3.8250143174879074,3.863817853718219,3.9002205016049483,3.933767221637667,3.973201755989452,4.0105157478413345,4.04270466132768,4.077824805743735,4.117022768830699,4.1492550347555675,4.186483621782108,4.215157649870032,4.255185315862062,4.289477742361119,4.324588816594959,4.36036059146344,4.398850740030353,4.435453029755662,4.4674169264267185,4.503348143726146,4.537911176587552,4.570078278598248,4.60807763082532,4.642576812899063,4.679989956283714,4.723307690700898,4.758433981565364,4.800041384288352,4.8356522385342595,4.875675672762892,4.918669265478706,4.956330817196601,5.002072944617114,5.044805931067895,5.0889509641583075,5.1375772253549385,5.186448722226816,5.235899302172592,5.289445235397012,5.337380792781037,5.387514021526815,5.43468707403709,5.482100076610119,5.538004539218807,5.5945897127983075,5.649179971941064,5.704328708778103,5.759368233725372,5.822330554289493,5.881217030016176,5.945775327573994,6.008922806096124,6.089287978726184,6.168923252051712,6.249545036595271,6.336540929844055,6.424708631710082,6.522933923942182,6.614809568994677,6.714115778621585,6.826499141994835,6.948248283486085,7.080376168301476,7.225207031268856,7.39065707738068,7.538727462433626,7.766337496023451,8.006846533850554,8.271535174564303,8.716099126560392,9.249618119507375,10.556966746246806]" data-unit="(mile km) / feet" data-min="1.2041947777806405" data-max="17.34726253230561"></div>
</div>
<h2>Result</h2>
<p>The Earth's circumference is approximately <strong>16014 mile</strong> or <strong>4.85 (mile km) / feet</strong>.</p>
<p>The actual value is about 24,901 miles (40,075 km) - let's see how close our estimate is!</p>
  </article>
  <script type="module">

// Render quantile dotplot visualizations
function renderDotplots() {
  document.querySelectorAll('.nf-viz').forEach(el => {
    const samples = JSON.parse(el.dataset.samples || '[]');
    const unit = el.dataset.unit || '';
    const min = parseFloat(el.dataset.min);
    const max = parseFloat(el.dataset.max);

    if (samples.length === 0) return;

    const canvas = document.createElement('canvas');
    canvas.width = el.clientWidth || 400;
    canvas.height = 60;
    canvas.style.width = '100%';
    canvas.style.height = '60px';
    el.appendChild(canvas);

    const ctx = canvas.getContext('2d');
    const width = canvas.width;
    const height = canvas.height;
    const dotRadius = 4;
    const padding = dotRadius + 2;

    ctx.fillStyle = '#1a1a2e';
    ctx.fillRect(0, 0, width, height);

    const useLog = max / min > 100;
    const toX = useLog
      ? v => padding + ((Math.log10(v) - Math.log10(min)) / (Math.log10(max) - Math.log10(min))) * (width - 2 * padding)
      : v => padding + ((v - min) / (max - min)) * (width - 2 * padding);

    ctx.fillStyle = 'rgba(99, 102, 241, 0.8)';
    samples.forEach(v => {
      const x = toX(v);
      const y = height / 2;
      ctx.beginPath();
      ctx.arc(x, y, dotRadius, 0, Math.PI * 2);
      ctx.fill();
    });
  });
}

renderDotplots();

  </script>
</body>
</html>